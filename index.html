<html>

<head>
  <title>File upload Node.</title>
</head>

<body>
  <form id="uploadForm" enctype="multipart/form-data" action="/api/photo" method="post">
    <input type="file" name="userPhoto" multiple />
    <input type="submit" value="Upload Image" name="submit">
    <span id="status"></span>
  </form>
</body>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>
<script>
  $(document).ready(function () {

    $('#uploadForm').submit(function () {

      var $fileUpload = $("input[type='file']");
      if (parseInt($fileUpload.get(0).files.length) > 15) {
        alert("You can only upload a maximum of 2 files");
      } else {

        $("#status").empty().text("File is uploading...");

        $(this).ajaxSubmit({

          error: function (xhr) {
            status('Error: ' + xhr.status);
          },

          success: function (response) {
            console.log(response)
            $("#status").empty().text(response);
          }
        });
      }



      return false;
    });
  });
</script>

</html>